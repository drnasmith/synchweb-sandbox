<template>
    <div id="vue-header" class="tw-flex tw-justify-between tw-items-center tw-h-10">
      <div class="">
        <router-link class="tw-mx-1 tw-inline md:tw-hidden" to="/"><span class="fa fa-2x fa-bars"/></router-link>
        <router-link class="tw-mx-1 tw-text-header-color hover:tw-text-header-hover-color" to="/"><span class="fa fa-2x fa-home"/><p class="tw-hidden md:tw-inline"> Home </p></router-link>
        <a class="tw-mx-1 tw-text-header-color hover:tw-text-header-hover-color" v-if="isLoggedIn" href="#" v-on:click="logout"><span class="fa fa-2x fa-sign-out"/><p class="tw-hidden md:tw-inline"> Logout </p></a>
        <router-link class="tw-mx-1 tw-text-header-color hover:tw-text-header-hover-color" v-else to="/login"><span class="fa fa-2x fa-sign-in"/> <p class="tw-hidden md:tw-inline"> Login </p></router-link>
      </div>
      <div v-if="isLoggedIn" class="tw-flex">
        <div v-if="isStaff" class="tw-flex">
          <a v-for="(item, index) in staff_menus" 
            :key="index" 
            class="tw-mx-1 tw-text-header-color hover:tw-text-header-hover-color" 
            :href="item.link"
            :alt="item.description">
            <div class="tw-flex tw-flex-row tw-items-center">
              <i class="fa fa-2x" v-bind:class="item.icon"/>
              <p class="tw-text-xs tw-mx-1 tw-hidden md:tw-inline">{{item.description}}</p>
            </div>
            </a>
        </div>
        <!-- If we want to add help/feedback to header menu -->
        <!-- <a class="tw-mx-1 tw-text-header-color hover:tw-text-header-hover-color" href="/feedback">
          <div class="tw-flex tw-flex-row tw-items-center">
            <i class="fa fa-2x fa-comment"/>
            <p class="tw-text-xs tw-mx-1 tw-hidden md:tw-inline">Feedback</p>
          </div>
        </a>
        <a class="tw-mx-1 tw-text-header-color hover:tw-text-header-hover-color" href="/help"  @mouseover="showHelpMenu = true" @mouseleave="showHelpMenu=false">
          <div class="tw-flex tw-flex-row tw-items-center">
            <i class="fa fa-2x fa-question"/>
            <p class="tw-text-xs tw-mx-1 tw-hidden md:tw-inline">Help</p>
            <div v-if="showHelpMenu">
              <div class="tw-absolute tw-z-10 tw-right-0 tw-top-0 tw-mt-8 tw-py-2 tw-w-48 tw-border-2 tw-bg-white hover:tw-bg-blue-400">
                <router-link  to="/docs" class="tw-px-2 tw-block tw-text-gray-800 hover:tw-text-white">Tutorials</router-link>
              </div>
            </div>
          </div>
        </a> -->
      </div>
    </div>
</template>

<script>
export default {
    name: 'Header',
    props: {
      'prop': String,
      'staff_menus' : Array
    },
    data: function() {
      return {
        showHelp: true,
        showHelpMenu: false
      }
    },
    computed: {
        isLoggedIn : function(){ return this.$store.getters.isLoggedIn},
        isStaff : function(){ return this.$store.getters.isStaff},
        currentProposal : function(){ return this.$store.getters.currentProposal}
    },
    methods: {
      logout: function () {
        this.$store.dispatch('logout')
        .then(() => {
          this.$router.push('/')
        })
      }
    }
}
</script>

<style scoped>
#vue-header {
  background-image: none;
  @apply tw-bg-header-background;
}

@screen md {
  #vue-header {
    background-image: url('data:image/png;base64,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');
    background-repeat: no-repeat;
    background-position: center;
  }
}
</style>